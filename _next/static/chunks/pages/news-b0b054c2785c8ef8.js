(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[134],{8729:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/news",function(){return n(9727)}])},7361:function(e,t,n){"use strict";n.d(t,{k:function(){return s}});var r=n(959),a=n(1351);function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(0,r.useRef)(!0),s=(0,r.useRef)(0),[,c]=(0,r.useState)(1),l=(0,r.useCallback)(e=>{n.current=e,c(e=>1-e)},[]),[i,m]=(0,a.Z)(e,t),d=()=>{n.current||l(!0);let e=s.current+1>1e5?0:s.current+1;s.current=e,m().finally(()=>s.current==e&&l(!1))};return(0,r.useEffect)(()=>{d()},t),(0,r.useMemo)(()=>({...i,value:n.current||i.error?void 0:i.value,loading:n.current,req:d}),[i,n.current])}},7395:function(e,t,n){"use strict";n.d(t,{p6:function(){return o},uF:function(){return u},Ik:function(){return d},Pf:function(){return m}});var r=n(7306),a=n(5685);let s=a.env.NEXT_PUBLIC_API_BASE||"https://news.gtech.world";var c=n(8778);function l(e){return"".concat(s).concat(e)}function i(e){let t=e.data;if(t){if(t.code&&200!==t.code)throw t.msg;return e.data}}function m(e,t){return()=>t.some(e=>!e)?(0,c._v)():e()}async function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"数据技术",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=await r.Z.get(l("/wechat/news?newsType=".concat(e,"&pageNumber=").concat(t,"&pageSize=").concat(n)));return i(a)}async function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"数据技术",t=await r.Z.get(l("/wechat/news/count?newsType=".concat(e)));return i(t)}async function u(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=await r.Z.get(l("/wechat/news/detail/".concat(e)));return i(t)}},8778:function(e,t,n){"use strict";function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise(t=>{setTimeout(()=>t(void 0),e)})}function a(){return window.innerWidth<=900}n.d(t,{_v:function(){return r},tq:function(){return a}})},9727:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var r=n(1527),a=n(4919),s=n(959),c=n(3517),l=n.n(c),i=n(4875),m=n.n(i),d=n(8778),o=n(3190),u=n(7207),x=n.n(u);function f(e){let{total:t,pgSize:n,pgNum:a,onChange:c,className:l}=e,i=Math.ceil(t/n),d=(0,s.useMemo)(()=>i<=1?[]:i<=6?x().range(i).map(e=>({name:"".concat(e+1)})):a<=3?x().range(a+1).map(e=>({name:"".concat(e+1)})).concat([{name:"..."},{name:""+i}]):a>=i-2?[{name:"1"},{name:"..."}].concat(x().range(a-2,i).map(e=>({name:"".concat(e+1)}))):[{name:"1"},{name:"..."},{name:a-1+""},{name:a+""},{name:a+1+""},{name:"..."},{name:i+""}],[i,a]),o=()=>{c&&a<i&&c(x().toNumber(a+1))},u=()=>{c&&c(1)},f=()=>{c&&a>1&&c(x().toNumber(a-1))},h=()=>{c&&c(i)};return t<=n?null:(0,r.jsx)("div",{className:m()("flex justify-center text-[0.8125rem] text-center leading-8 font-semibold",l),children:(0,r.jsxs)("div",{className:"flex",children:[i>1&&(0,r.jsxs)("span",{onClick:u,className:"mx-[0.185rem] flex justify-center items-center cursor-pointer border min-w-[32px] h-[32px] rounded-lg",children:[(0,r.jsx)("img",{src:"/images/arrow_page.svg"}),(0,r.jsx)("img",{src:"/images/arrow_page.svg"})]}),i>1&&(0,r.jsx)("span",{onClick:f,className:"mx-[0.185rem] flex justify-center items-center cursor-pointer border min-w-[32px] h-[32px] rounded-lg",children:(0,r.jsx)("img",{src:"/images/arrow_page.svg"})}),d.map((e,t)=>(0,r.jsx)("div",{className:m()({"text-white bg-green-1":e.name===""+a,omit:"..."===e.name},"mx-[0.185rem] min-w-[32px] h-[32px] px-1.5 rounded-lg","..."!=e.name&&"border cursor-pointer"),onClick:()=>{c&&"..."!==e.name&&c(x().toNumber(e.name))},children:e.name},"key_page_".concat(t))),i>1&&(0,r.jsx)("span",{onClick:o,className:"mx-[0.185rem] rotate-180 flex justify-center items-center cursor-pointer border min-w-[32px] h-[32px] rounded-lg",children:(0,r.jsx)("img",{src:"/images/arrow_page.svg"})}),i>1&&(0,r.jsxs)("span",{onClick:h,className:" mx-[0.185rem] rotate-180 flex justify-center items-center cursor-pointer border min-w-[32px] h-[32px] rounded-lg",children:[(0,r.jsx)("img",{src:"/images/arrow_page.svg"}),(0,r.jsx)("img",{src:"/images/arrow_page.svg"})]})]})})}var h=n(7361),g=n(7395),p=n(5399),w=n.n(p),j=n(6349);function v(e){let{className:t,...n}=e;return(0,r.jsx)("div",{...n,className:m()("text-black w-full h-full flex items-center justify-center",t),children:(0,r.jsx)(j.uur,{className:"text-[3.125rem] animate-spin"})})}function b(){return(0,r.jsx)("div",{className:"h-[32.375rem] md:h-[24rem] w-full bg-[url(/images/news_banner.png)] bg-no-repeat bg-cover bg-left-bottom",children:(0,r.jsxs)("div",{className:"max-w-[61.75rem] mx-auto flex flex-col items-center text-center mt-24 md:mt-12",children:[(0,r.jsx)("h3",{className:"text-5xl text-green md:text-[1.75rem]",children:"资讯动态"}),(0,r.jsx)("p",{className:"text-[2rem] leading-[2.75rem] mt-8 md:text-lg md:px-8",children:"GTech是一家实时革新、日常精进的技术导向型公司。获取来自GTech以及我们所关注领域的最新资讯、业务进展以及技术信息分享。"})]})})}function N(e){let{cateId:t,data:n}=e;return(0,r.jsx)("div",{className:"w-container mt-16 md:w-full md:mt-8 md:px-3",children:!!n.length&&n.map((e,n)=>(console.log(e.thumbUrl),(0,r.jsxs)("div",{className:"flex md:items-center mb-12 md:mb-5",children:[(0,r.jsx)("div",{className:m()("max-w-[25rem] w-full md:max-w-[7.375rem] h-[16.125rem] md:h-[4.875rem] rounded-lg overflow-hidden"),children:(0,r.jsx)("div",{className:"w-[100rem] h-full",children:(0,r.jsx)("img",{className:"w-auto h-full",src:e.thumbUrl,alt:""})})}),(0,r.jsxs)("div",{className:"flex flex-col justify-between ml-8 md:ml-2.5",children:[(0,r.jsxs)("div",{className:"",children:[(0,r.jsx)("h4",{className:"text-2xl font-semibold md:text-base",children:(0,r.jsx)(l(),{className:"ellipsis-2",target:(0,d.tq)()?"":"_blank",href:"/news/detail?cateId=".concat(t,"&id=").concat(e.id),children:e.title})}),(0,r.jsx)("time",{className:"inline-block py-2.5 md:py-0 md:pt-2 text-gray-2",children:w()(1e3*e.newsUpdateTime).format("YYYY-MM-DD HH:mm:ss")}),(0,r.jsx)("p",{className:"md:hidden",children:e.digest})]}),(0,r.jsx)("div",{className:"pb-1 md:hidden",children:(0,r.jsx)(l(),{className:"text-green",target:(0,d.tq)()?"":"_blank",href:"/news/detail?cateId=".concat(t,"&id=").concat(e.id),children:"详情 >>"})})]})]},"data".concat(n))))})}let _=[{name:"数据技术",id:1},{name:"行业动态",id:2},{name:"行业深度",id:3},{name:"GTech资讯",id:4}];function y(){let{query:e}=(0,o.useRouter)(),t=_[0].id,n=(0,s.useRef)(null),[c,l]=(0,s.useState)(t),[i,u]=(0,s.useState)(1),[x]=(0,s.useState)(10),{value:p,loading:w}=(0,h.k)((0,g.Pf)(async()=>Promise.all([(0,g.Ik)(_[c-1].name,i,x),(0,g.p6)(_[c-1].name)]),[i,c]),[i,c]),{total:j,data:y}=(0,s.useMemo)(()=>p&&2===p.length?{total:p[1]||0,data:p[0]}:{total:0,data:[]},[p]);(0,s.useEffect)(()=>{if(e.cateId){let n=_[+e.cateId-1];t=(null==n?void 0:n.id)||1}l(t)},[e]),(0,s.useMemo)(()=>{(0,d.tq)()&&(null==n?void 0:n.current)&&(n.current.scrollLeft=30*(c-1)),u(1),history.replaceState(null,"","/news?cateId=".concat(c))},[c]);let k={className:(0,d.tq)()?"":"border-b border-black"};return(0,r.jsxs)(a.T,{headerProps:k,children:[(0,r.jsx)(b,{}),(0,r.jsxs)("div",{className:"pt-10 pb-7 flex justify-center bg-bgc-1 flex-col items-center md:pt-6 md:px-3 md:pb-5",children:[(0,r.jsx)("div",{className:"bg-white shadow-[0_5px_20px_0_rgba(0,0,0,0.08)] rounded-2xl md:rounded-lg flex px-3 h-[5.5rem] md:h-[4.25rem] w-container text-2xl md:w-full md:text-base overflow-hidden",children:(0,r.jsx)("div",{ref:n,className:"overflow-x-auto w-full h-full flex justify-between items-center px-24 md:px-2",children:_.map((e,t)=>(0,r.jsx)("div",{onClick:()=>l(t+1),className:m()("cursor-pointer whitespace-nowrap px-8 md:px-1 md:mx-4",t===c-1&&"news-active"),children:e.name},"tabs".concat(t)))})}),w?(0,r.jsx)(v,{className:"h-[22rem]"}):(0,r.jsx)(N,{cateId:c,data:y}),(0,r.jsx)(f,{className:"py-5",total:j,pgSize:x,pgNum:i,onChange:e=>{u(e)}})]})]})}}},function(e){e.O(0,[455,222,725,344,492,431,676,919,774,888,179],function(){return e(e.s=8729)}),_N_E=e.O()}]);