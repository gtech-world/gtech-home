(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[134],{8729:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/news",function(){return s(6332)}])},8778:function(e,t,s){"use strict";function a(){return window.innerWidth<=900}s.d(t,{tq:function(){return a}})},6332:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return S}});var a=s(1527),n=s(5300),l=s(959),r=s(3517),c=s.n(r),m=s(8778),i=s(7207),d=s.n(i),x=s(4875),o=s.n(x);function p(e){let{total:t,pgSize:s,pgNum:n,onChange:r,className:c}=e,m=Math.ceil(t/s),i=(0,l.useMemo)(()=>m<=1?[]:m<=6?d().range(m).map(e=>({name:"".concat(e+1)})):n<=3?d().range(n+1).map(e=>({name:"".concat(e+1)})).concat([{name:"..."},{name:""+m}]):n>=m-2?[{name:"1"},{name:"..."}].concat(d().range(n-2,m).map(e=>({name:"".concat(e+1)}))):[{name:"1"},{name:"..."},{name:n-1+""},{name:n+""},{name:n+1+""},{name:"..."},{name:m+""}],[m,n]),x=()=>{r&&n<m&&r(d().toNumber(n+1))},p=()=>{r&&r(1)},u=()=>{r&&n>1&&r(d().toNumber(n-1))},h=()=>{r&&r(m)};return t<=s?null:(0,a.jsx)("div",{className:o()("flex justify-center text-[0.8125rem] text-center leading-8 font-semibold",c),children:(0,a.jsxs)("div",{className:"flex",children:[m>1&&(0,a.jsxs)("span",{onClick:p,className:"mx-[0.185rem] flex justify-center items-center cursor-pointer border min-w-[32px] h-[32px] rounded-lg",children:[(0,a.jsx)("img",{src:"/images/arrow_page.svg",alt:""}),(0,a.jsx)("img",{src:"/images/arrow_page.svg",alt:""})]}),m>1&&(0,a.jsx)("span",{onClick:u,className:"mx-[0.185rem] flex justify-center items-center cursor-pointer border min-w-[32px] h-[32px] rounded-lg",children:(0,a.jsx)("img",{src:"/images/arrow_page.svg",alt:""})}),i.map((e,t)=>(0,a.jsx)("div",{className:o()({"text-white bg-green-1":e.name===""+n,omit:"..."===e.name},"mx-[0.185rem] min-w-[32px] h-[32px] px-1.5 rounded-lg","..."!=e.name&&"border cursor-pointer"),onClick:()=>{r&&"..."!==e.name&&r(d().toNumber(e.name))},children:e.name},"key_page_".concat(t))),m>1&&(0,a.jsx)("span",{onClick:x,className:"mx-[0.185rem] rotate-180 flex justify-center items-center cursor-pointer border min-w-[32px] h-[32px] rounded-lg",children:(0,a.jsx)("img",{src:"/images/arrow_page.svg",alt:""})}),m>1&&(0,a.jsxs)("span",{onClick:h,className:" mx-[0.185rem] rotate-180 flex justify-center items-center cursor-pointer border min-w-[32px] h-[32px] rounded-lg",children:[(0,a.jsx)("img",{src:"/images/arrow_page.svg",alt:""}),(0,a.jsx)("img",{src:"/images/arrow_page.svg",alt:""})]})]})})}var u=s(7306),h=s(5685);let g=h.env.NEXT_PUBLIC_API_BASE||"https://news.gtech-cn.co";function f(e){return"".concat(g).concat(e)}function w(e){let t=e.data;if(t){if(t.code&&200!==t.code)throw t.msg;return e.data}}async function j(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,n=await u.Z.get(f("/wechat/news?newsTypeId=".concat(e,"&invert=").concat(t,"&pageNumber=").concat(s,"&pageSize=").concat(a)));return w(n)}async function v(){let e=await u.Z.get(f("/wechat/news/types"));return w(e)}async function N(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=await u.Z.get(f("/wechat/news/count?newsTypeId=".concat(t,"&newsType=").concat(e)));return w(s)}var b=s(5399),y=s.n(b),_=s(6349);function k(e){let{className:t,...s}=e;return(0,a.jsx)("div",{...s,className:o()("text-black w-full h-full flex items-center justify-center",t),children:(0,a.jsx)(_.uur,{className:"text-[3.125rem] animate-spin"})})}let E=e=>{let{cateId:t,data:s}=e;return(0,a.jsx)("div",{className:" w-container md:w-[351px] md:mt-8 md:px-[20px]",children:!!s.length&&s.map((e,s)=>(0,a.jsxs)(l.Fragment,{children:[(0,m.tq)()?null:(0,a.jsx)("div",{className:"mt-5 mb-5 border-t text-sk border-gray-1"}),(0,a.jsxs)("div",{className:"flex mb-12 md:items-center md:mb-5 w-full h-[200px] md:h-[4.875rem]",children:[(0,a.jsx)("div",{className:"  max-w-[350px] md:max-w-[118px] w-full md:w-[118px]    h-[16.125rem] md:h-[4.875rem] rounded-lg ",children:(0,a.jsx)("div",{className:"w-[19.375rem] h-[12.5rem] ",children:(0,a.jsx)("img",{className:"w-auto h-full md:max-w-[118px] rounded-lg md:max-h-[78px] ",src:e.thumbUrl,alt:""})})}),(0,a.jsx)("div",{className:"flex flex-col md:w-full justify-between md:ml-[10px] md:max-h-[78px] ",children:(0,a.jsxs)("div",{className:"",children:[(0,a.jsx)("h4",{className:"overflow-hidden text-2xl font-semibold md:text-base",children:(0,a.jsx)(c(),{className:"ellipsis-2 text-[20px] md:text-[16px] md:w-[221px] md:text-ellipsis md:overflow-hidden md:whitespace-nowrap",rel:"opener",target:(0,m.tq)()?"":"_blank",href:"/news/detail?cateId=".concat(t,"&id=").concat(e.id),children:e.title})}),(0,a.jsxs)("time",{className:" md:py-0 text-[14px] md:text-[12px] flex text-gray-2",children:[(0,a.jsx)("div",{className:"mr-5 ",children:e.author}),y()(1e3*e.newsUpdateTime).format("YYYY-MM-DD HH:mm:ss")]}),(0,a.jsx)("p",{className:"md:hidden text-[14px] ",children:e.digest}),(0,a.jsx)("div",{className:"flex flex-row mt-[10px] md:h-[24px]",children:null==e?void 0:e.newsTypes.map((e,t)=>(0,a.jsx)("div",{className:"mr-5 border rounded-lg px-[10px] text-[#29953A] text-[14px] bg-[#29953A1A]",children:e.typeName},"name_".concat(t)))}),(0,a.jsx)("div",{className:"mt-5 md:hidden",children:(0,a.jsx)(c(),{className:"text-green text-[14px] mb-5",rel:"opener",target:(0,m.tq)()?"":"_blank",href:"/news/detail?cateId=".concat(t,"&id=").concat(e.id),children:"详情 >>"})})]})})]})]},"data".concat(s)))})},C=[{url:"/images/subtract.svg",id:1},{url:"/images/frame.svg",id:2},{url:"/images/three.svg",id:3}];function S(){let e=(0,l.useRef)(0),[t,s]=(0,l.useState)(0),[r,c]=(0,l.useState)(!1),[i,d]=(0,l.useState)([]),[x,o]=(0,l.useState)([]),[u,h]=(0,l.useState)({}),[g,f]=(0,l.useState)(1),[w]=(0,l.useState)(10),b=async()=>{c(!0);try{let e=await v(),t={};e.forEach(e=>{let{typeGroup:s}=e;t[s]||(t[s]={id:e.id,typeGroup:e.typeGroup,children:[]});let{id:a,typeName:n,createTime:l,updateTime:r}=e;t[s].children.push({id:a,typeName:n,typeGroup:s,createTime:l,updateTime:r})});let s=Object.values(t);h(s[0]),o(s)}catch(a){console.log("reeee",a)}finally{c(!1)}},y=async()=>{let t=await N(null==u?void 0:u.typeName,null==u?void 0:u.id);e.current=t};(0,l.useEffect)(()=>{b()},[]),(0,l.useEffect)(()=>{y()},[u.id]),(0,l.useEffect)(()=>{_()},[g,u.id,t]);let _=async()=>{let e=await j(null==u?void 0:u.id,1==t,g,w);d(e||[])},S={className:(0,m.tq)()?"":"border-b border-black"},T=()=>{s(3===t?1:t+1)};return(0,a.jsx)(n.T,{headerProps:S,children:(0,a.jsxs)("div",{className:"flex flex-col mx-[155px] md:mx-0 md:w-[351]",children:[(0,a.jsx)("div",{className:" flex flex-wrap md:ml-5 md:mr-[2.5 md:mx-0 rem] mt-10 md:ml-[20px] rounded-lg justify-between",children:x.map((e,t)=>(0,a.jsxs)("div",{className:"w-[360px]  h-[12.75rem]  rounded-lg shadow-lg   md:mr-[25px] ".concat(2===t?"md:w-full md:mt-5  ":"md:w-[10.625rem] "),children:[(0,a.jsx)("div",{className:"  rounded-t-md  bg-green h-[68px] md:w-50px flex items-center\n                \n               ".concat(2===t?"md:w-full  ":"md:w-[10.625rem]","\n              "),children:(0,a.jsxs)("div",{className:"flex flex-row items-center justify-between w-full mr-[12px] ",children:[(0,a.jsx)("div",{className:" ml-[1.875rem] text-white md:text-[16px]",children:e.typeGroup}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)("img",{className:" w-[59px] h-[49px] md:w-[35px] md:h-[29px]",src:C[t].url,alt:""})})]})}),(0,a.jsx)("div",{className:"flex flex-row flex-wrap",children:e.children.map((e,t)=>(0,a.jsx)("div",{onClick:()=>{h(e),s(0)},className:" ".concat((null==u?void 0:u.id)===e.id&&"text-[#29953A]  bg-[#29953A1A] "," cursor-pointer   bg-[#E9E9E9] min-w-[20px] h-[38px] flex items-center ml-5 mt-5 rounded-[0.25rem] px-[1rem]"),children:e.typeName},"check_".concat(t)))})]},"type_".concat(t)))}),(0,a.jsxs)("div",{className:"mt-5 ",children:[(0,a.jsx)("div",{className:"h-[26px] md:ml-5 md:border-b md:w-[380px] flex flex-row items-center",children:i.length?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:" text-[14px] md:mb-[15px]",children:"发布时间"}),(0,a.jsx)("div",{className:"ml-[10px] md:mb-[15px]",onClick:()=>T(),children:(0,a.jsx)("img",{src:{0:"/images/date.svg",1:"/images/checked_top.svg",2:"/images/checked_bottom.svg",3:"/images/date.svg"}[t],className:"h-[13px] w-[13px]",alt:""})})]}):null}),r?(0,a.jsx)(k,{className:"h-[22rem] "}):(0,a.jsx)(E,{cateId:null==u?void 0:u.id,data:i}),i.length?(0,a.jsx)(p,{onChange:e=>{f(e)},className:"my-8",total:e.current,pgSize:10,pgNum:g}):null,r?(0,a.jsx)(k,{className:"pt-8"}):!(i&&i.length>0)&&(0,a.jsxs)("div",{className:"flex flex-col justify-center w-full py-20 text-center ",children:[(0,a.jsxs)("div",{className:"flex justify-center ",children:[" ",(0,a.jsx)("img",{width:222,height:"125",src:"/images/noData.svg",alt:""})]}),(0,a.jsx)("div",{children:"暂无数据"})]})]})]})})}}},function(e){e.O(0,[455,222,725,344,492,401,541,300,774,888,179],function(){return e(e.s=8729)}),_N_E=e.O()}]);