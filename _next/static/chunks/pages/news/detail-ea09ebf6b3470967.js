(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[119],{4791:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/news/detail",function(){return n(8982)}])},818:function(e,t,n){"use strict";n.d(t,{g:function(){return u}});var r=n(1527),c=n(4875),a=n.n(c),s=n(6349);function u(e){let{className:t,...n}=e;return(0,r.jsx)("div",{...n,className:a()("text-black w-full h-full flex items-center justify-center",t),children:(0,r.jsx)(s.uur,{className:"text-[3.125rem] animate-spin"})})}},7395:function(e,t,n){"use strict";n.d(t,{p6:function(){return d},uF:function(){return m},Ik:function(){return l},Pk:function(){return f},Pf:function(){return o}});var r=n(7306),c=n(5685);let a=c.env.NEXT_PUBLIC_API_BASE||"https://news.gtech-cn.co";var s=n(8778);function u(e){return"".concat(a).concat(e)}function i(e){let t=e.data;if(t){if(t.code&&200!==t.code)throw t.msg;return e.data}}function o(e,t){return()=>t.some(e=>!e)?(0,s._v)():e()}async function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,a=await r.Z.get(u("/wechat/news?newsTypeId=".concat(e,"&invert=").concat(t,"&pageNumber=").concat(n,"&pageSize=").concat(c)));return i(a)}async function d(){let e=await r.Z.get(u("/wechat/news/types"));return i(e)}async function f(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=await r.Z.get(u("/wechat/news/count?newsTypeId=".concat(t,"&newsType=").concat(e)));return i(n)}async function m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=await r.Z.get(u("/wechat/news/detail/".concat(e)));return i(t)}},8778:function(e,t,n){"use strict";function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise(t=>{setTimeout(()=>t(void 0),e)})}function c(){return window.innerWidth<=900}n.d(t,{_v:function(){return r},tq:function(){return c}})},8982:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var r=n(1527),c=n(4919),a=n(959),s=n(3190),u=n(4875),i=n.n(u),o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var c in t=arguments[n])Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c]);return e}).apply(this,arguments)},l=n(7395),d=n(5399),f=n.n(d),m=n(8778),h=n(7487),g=n(5159),p=n(818);function w(e){let{content:t,className:n}=e,c=[];return t.map((e,t)=>{e.href?c.push('<a href="'.concat(e.href,'" rel="noreferrer">').concat(e.name,"</a>")):c.push('<span class="text-gray-1">'.concat(e.name,"</span>"))}),(0,r.jsx)("div",{className:i()("text-sm font-medium",n),dangerouslySetInnerHTML:{__html:c.join(" / ")}})}function v(){let{query:e}=(0,s.useRouter)(),{id:t=1,cateId:n}=e,{push:u}=(0,s.useRouter)(),i=(0,g.E)(),[d,v]=(0,a.useState)(""),[x,b]=(0,a.useState)(!1),{value:y,loading:N}=function(e){var t,n,r,c,s,u,i,l,d;let f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],m=(0,a.useRef)(!0),h=(0,a.useRef)(0),[,g]=(0,a.useState)(1),p=(0,a.useCallback)(e=>{m.current=e,g(e=>1-e)},[]),[w,v]=(void 0===(t=f)&&(t=[]),void 0===n&&(n={loading:!1}),r=(0,a.useRef)(0),c=(0,a.useRef)(!1),s=(0,a.useCallback)(function(){return c.current},[]),(0,a.useEffect)(function(){return c.current=!0,function(){c.current=!1}},[]),i=(u=(0,a.useState)(n))[0],l=u[1],d=(0,a.useCallback)(function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var c=++r.current;return i.loading||l(function(e){return o(o({},e),{loading:!0})}),e.apply(void 0,t).then(function(e){return s()&&c===r.current&&l({value:e,loading:!1}),e},function(e){return s()&&c===r.current&&l({error:e,loading:!1}),e})},t),[i,d]),x=()=>{m.current||p(!0);let e=h.current+1>1e5?0:h.current+1;h.current=e,v().finally(()=>h.current==e&&p(!1))};return(0,a.useEffect)(()=>{x()},f),(0,a.useMemo)(()=>({...w,value:m.current||w.error?void 0:w.value,loading:m.current,req:x}),[w,m.current])}((0,l.Pf)(async()=>(0,l.uF)(t||1),[t]),[t]);console.log("valuevalue",y),(0,a.useEffect)(()=>{n&&v(i[+n-1].name)},[n]);let _=(0,a.useMemo)(()=>(null==y?void 0:y.newsItem)?(b(!0),{title:y.title,time:f()(1e3*y.newsUpdateTime).format("YYYY-MM-DD HH:mm:ss"),content:JSON.parse(null==y?void 0:y.newsItem).content.replace(/data-src/g,"src").replace(/color:[\s\S]*?;/g,"").replace(/font-size:\s*16\.?\d*pt;/g,"font-size: ".concat((0,m.tq)()?"1rem":"1.5rem",";")).replace(/font-size:\s*(11|12(\.0)?)pt;/g,"font-size: ".concat((0,m.tq)()?"0.875rem":"1.125rem",";")).replace(/(line|font)-(height|weight):\s+normal;/g,"").replace(/width:\s*100%;/g,"").replace(/height:\s*\d+\.?\d+px;/g,"").replace(/margin-\w+:\s*0\.?\d*pt;/g,"").replace(/<br\s*\/>/g,"").replace(/&nbsp;/g,"")}):{content:"",title:"",time:""},[y]),j={className:(0,m.tq)()?"":"border-b border-black"};return(0,r.jsxs)(c.T,{hiddenHeader:(0,m.tq)(),headerProps:j,children:[(0,r.jsxs)("div",{className:"h-[4rem] justify-center items-center hidden md:flex",children:[(0,r.jsx)(h.u1R,{onClick:()=>u("/news?cateId=".concat(n)),className:"absolute text-xl left-2 text-green"}),(0,r.jsx)("h4",{className:"text-lg text-center text-green",children:"资讯动态"})]}),(0,r.jsxs)("div",{className:"mx-auto w-container md:w-full md:px-3 md:mt-2",children:[(0,r.jsxs)("header",{className:"pb-8 border-b border-gray-10 md:pb-5",children:[(0,r.jsx)(w,{className:"py-8 md:hidden",content:[{name:d,href:"/news?cateId=".concat(e.cateId)},{name:"详情"}]}),(0,r.jsx)("h1",{className:"text-4xl font-semibold md:text-lg",children:_.title}),(0,r.jsx)("time",{className:"inline-block text-gray-1 pt-2.5 md:text-sm",children:_.time})]}),x?(0,r.jsx)("div",{className:"mt-9 article-content",dangerouslySetInnerHTML:{__html:_.content}}):(0,r.jsx)(p.g,{className:"h-[40rem]"})]})]})}}},function(e){e.O(0,[455,222,492,725,439,401,541,919,774,888,179],function(){return e(e.s=4791)}),_N_E=e.O()}]);