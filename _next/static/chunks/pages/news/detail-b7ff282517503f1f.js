(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[119],{4791:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/news/detail",function(){return n(8982)}])},818:function(e,t,n){"use strict";n.d(t,{g:function(){return i}});var r=n(1527),c=n(4875),a=n.n(c),s=n(6349);function i(e){let{className:t,...n}=e;return(0,r.jsx)("div",{...n,className:a()("text-black w-full h-full flex items-center justify-center",t),children:(0,r.jsx)(s.uur,{className:"text-[3.125rem] animate-spin"})})}},7395:function(e,t,n){"use strict";n.d(t,{p6:function(){return d},uF:function(){return m},Ik:function(){return o},Pk:function(){return f},Pf:function(){return l}});var r=n(7306),c=n(5685);let a=c.env.NEXT_PUBLIC_API_BASE||"https://news.gtech-cn.co";var s=n(8778);function i(e){return"".concat(a).concat(e)}function u(e){let t=e.data;if(t){if(t.code&&200!==t.code)throw t.msg;return e.data}}function l(e,t){return()=>t.some(e=>!e)?(0,s._v)():e()}async function o(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;if(!e)return;let a=await r.Z.get(i("/wechat/news?newsTypeId=".concat(e,"&invert=").concat(t,"&pageNumber=").concat(n,"&pageSize=").concat(c)));return u(a)}async function d(){let e=await r.Z.get(i("/wechat/news/types"));return u(e)}async function f(e,t){if(!e)return;let n=await r.Z.get(i("/wechat/news/count?newsTypeId=".concat(e,"&newsType=").concat(t)));return u(n)}async function m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=await r.Z.get(i("/wechat/news/detail/".concat(e)));return u(t)}},8778:function(e,t,n){"use strict";function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise(t=>{setTimeout(()=>t(void 0),e)})}function c(){return window.innerWidth<=900}n.d(t,{_v:function(){return r},tq:function(){return c}})},8982:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var r=n(1527),c=n(4919),a=n(959),s=n(3190),i=n(4875),u=n.n(i),l=function(){return(l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var c in t=arguments[n])Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c]);return e}).apply(this,arguments)},o=n(7395),d=n(5399),f=n.n(d),m=n(8778),x=n(7487),p=n(5159),h=n(818);function g(e){let{content:t,className:n}=e,c=[];return t.map((e,t)=>{e.href?c.push('<a href="'.concat(e.href,'" rel="noreferrer">').concat(e.name,"</a>")):c.push('<span class="text-gray-1">'.concat(e.name,"</span>"))}),(0,r.jsx)("div",{className:u()("text-sm font-medium",n),dangerouslySetInnerHTML:{__html:c.join(" / ")}})}function w(){let{query:e}=(0,s.useRouter)(),{id:t=1,cateId:n,name:i="",type:u="",typeName:d=""}=e,{push:w}=(0,s.useRouter)();(0,p.E)();let v=i.split(","),[N,b]=(0,a.useState)(!1),{value:j,loading:y}=function(e){var t,n,r,c,s,i,u,o,d;let f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],m=(0,a.useRef)(!0),x=(0,a.useRef)(0),[,p]=(0,a.useState)(1),h=(0,a.useCallback)(e=>{m.current=e,p(e=>1-e)},[]),[g,w]=(void 0===(t=f)&&(t=[]),void 0===n&&(n={loading:!1}),r=(0,a.useRef)(0),c=(0,a.useRef)(!1),s=(0,a.useCallback)(function(){return c.current},[]),(0,a.useEffect)(function(){return c.current=!0,function(){c.current=!1}},[]),u=(i=(0,a.useState)(n))[0],o=i[1],d=(0,a.useCallback)(function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var c=++r.current;return u.loading||o(function(e){return l(l({},e),{loading:!0})}),e.apply(void 0,t).then(function(e){return s()&&c===r.current&&o({value:e,loading:!1}),e},function(e){return s()&&c===r.current&&o({error:e,loading:!1}),e})},t),[u,d]),v=()=>{m.current||h(!0);let e=x.current+1>1e5?0:x.current+1;x.current=e,w().finally(()=>x.current==e&&h(!1))};return(0,a.useEffect)(()=>{v()},f),(0,a.useMemo)(()=>({...g,value:m.current||g.error?void 0:g.value,loading:m.current,req:v}),[g,m.current])}((0,o.Pf)(async()=>(0,o.uF)(t||1),[t]),[t]),_=(0,a.useMemo)(()=>(null==j?void 0:j.newsItem)?(b(!0),{title:j.title,time:f()(1e3*j.newsUpdateTime).format("YYYY-MM-DD HH:mm:ss"),content:JSON.parse(null==j?void 0:j.newsItem).content.replace(/data-src/g,"src").replace(/color:[\s\S]*?;/g,"").replace(/font-size:\s*16\.?\d*pt;/g,"font-size: ".concat((0,m.tq)()?"1rem":"1.5rem",";")).replace(/font-size:\s*(11|12(\.0)?)pt;/g,"font-size: ".concat((0,m.tq)()?"0.875rem":"1.125rem",";")).replace(/(line|font)-(height|weight):\s+normal;/g,"").replace(/width:\s*100%;/g,"").replace(/height:\s*\d+\.?\d+px;/g,"").replace(/margin-\w+:\s*0\.?\d*pt;/g,"").replace(/<br\s*\/>/g,"").replace(/&nbsp;/g,"")}):{content:"",title:"",time:""},[j]),k={className:(0,m.tq)()?"":"border-b border-black"};return(0,r.jsxs)(c.T,{hiddenHeader:(0,m.tq)(),headerProps:k,children:[(0,r.jsxs)("div",{className:"h-[4rem] justify-center items-center hidden md:flex",children:[(0,r.jsx)(x.u1R,{onClick:()=>w("/news?cateId=".concat(n)),className:"absolute text-xl left-2 text-green"}),(0,r.jsx)("h4",{className:"text-lg text-center text-green",children:"资讯动态"})]}),(0,r.jsxs)("div",{className:"mx-auto w-container md:w-full md:px-3 md:mt-2",children:[(0,r.jsxs)("header",{className:"pb-8 border-b border-gray-10 md:pb-5",children:[(0,r.jsx)(g,{className:"py-8 md:hidden",content:[{name:d,href:"/news?cateId=".concat(e.cateId)},{name:"详情"}]}),(0,r.jsx)("h1",{className:"text-4xl font-semibold md:text-lg",children:_.title}),(0,r.jsxs)("div",{className:"flex flex-row items-center pt-2.5 md:w-[220px] flex-wrap",children:[(0,r.jsx)("span",{className:"text-gray-1 text-[16px] md:text-[14px]",children:u}),(0,r.jsx)("time",{className:"inline-block ml-5 text-[16px] md:text-[14px] text-gray-1 md:text-sm",children:_.time}),(0,r.jsx)("div",{className:"flex flex-row w-full",children:v.map((e,t)=>(0,r.jsx)("div",{className:"flex mr-5 rounded-[0.25rem] px-[10px] flex-row items-center md:max-w-[96px] md:ml-0 md:mt-2 md:h-[28px] text-[#29953A] text-[14px] md:text-[12px] bg-[#29953A1A]",children:(0,r.jsx)("span",{className:"",children:e})},"list_".concat(t)))})]})]}),N?(0,r.jsx)("div",{className:"mt-9 article-content",dangerouslySetInnerHTML:{__html:_.content}}):(0,r.jsx)(h.g,{className:"h-[40rem]"})]})]})}}},function(e){e.O(0,[455,222,492,725,439,401,541,919,774,888,179],function(){return e(e.s=4791)}),_N_E=e.O()}]);