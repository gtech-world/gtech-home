(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[119],{4791:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/news/detail",function(){return n(5420)}])},818:function(e,t,n){"use strict";n.d(t,{g:function(){return i}});var r=n(1527),c=n(4875),s=n.n(c),a=n(6349);function i(e){let{className:t,...n}=e;return(0,r.jsx)("div",{...n,className:s()("text-black w-full h-full flex items-center justify-center",t),children:(0,r.jsx)(a.uur,{className:"text-[3.125rem] animate-spin"})})}},7361:function(e,t,n){"use strict";n.d(t,{k:function(){return s}});var r=n(959),c=n(1351);function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(0,r.useRef)(!0),s=(0,r.useRef)(0),[,a]=(0,r.useState)(1),i=(0,r.useCallback)(e=>{n.current=e,a(e=>1-e)},[]),[u,o]=(0,c.Z)(e,t),l=()=>{n.current||i(!0);let e=s.current+1>1e5?0:s.current+1;s.current=e,o().finally(()=>s.current==e&&i(!1))};return(0,r.useEffect)(()=>{l()},t),(0,r.useMemo)(()=>({...u,value:n.current||u.error?void 0:u.value,loading:n.current,req:l}),[u,n.current])}},7395:function(e,t,n){"use strict";n.d(t,{p6:function(){return d},uF:function(){return m},Ik:function(){return l},Pf:function(){return o}});var r=n(7306),c=n(5685);let s=c.env.NEXT_PUBLIC_API_BASE||"https://news.gtech.world";var a=n(8778);function i(e){return"".concat(s).concat(e)}function u(e){let t=e.data;if(t){if(t.code&&200!==t.code)throw t.msg;return e.data}}function o(e,t){return()=>t.some(e=>!e)?(0,a._v)():e()}async function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"数据技术",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,c=await r.Z.get(i("/wechat/news?newsType=".concat(e,"&pageNumber=").concat(t,"&pageSize=").concat(n)));return u(c)}async function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"数据技术",t=await r.Z.get(i("/wechat/news/count?newsType=".concat(e)));return u(t)}async function m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=await r.Z.get(i("/wechat/news/detail/".concat(e)));return u(t)}},8778:function(e,t,n){"use strict";function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise(t=>{setTimeout(()=>t(void 0),e)})}function c(){return window.innerWidth<=900}n.d(t,{_v:function(){return r},tq:function(){return c}})},5420:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var r=n(1527),c=n(4919),s=n(959),a=n(3190),i=n(4875),u=n.n(i),o=n(7361),l=n(7395),d=n(5399),m=n.n(d),f=n(8778),h=n(7487),g=n(5159),p=n(818);function w(e){let{content:t,className:n}=e,c=[];return t.map((e,t)=>{e.href?c.push('<a href="'.concat(e.href,'" rel="noreferrer">').concat(e.name,"</a>")):c.push('<span class="text-gray-1">'.concat(e.name,"</span>"))}),(0,r.jsx)("div",{className:u()("text-sm font-medium",n),dangerouslySetInnerHTML:{__html:c.join(" / ")}})}function x(){let{query:e}=(0,a.useRouter)(),{id:t=1,cateId:n}=e,{push:i}=(0,a.useRouter)(),u=(0,g.E)(),[d,x]=(0,s.useState)(""),[v,N]=(0,s.useState)(!1),{value:_,loading:b}=(0,o.k)((0,l.Pf)(async()=>(0,l.uF)(t||1),[t]),[t]);(0,s.useEffect)(()=>{n&&x(u[+n-1].name)},[n]);let j=(0,s.useMemo)(()=>(null==_?void 0:_.newsItem)?(N(!0),{title:_.title,time:m()(1e3*_.newsUpdateTime).format("YYYY-MM-DD HH:mm:ss"),content:JSON.parse(null==_?void 0:_.newsItem).content.replace(/data-src/g,"src").replace(/color:[\s\S]*?;/g,"").replace(/font-size:\s*16\.?\d*pt;/g,"font-size: ".concat((0,f.tq)()?"1rem":"1.5rem",";")).replace(/font-size:\s*(11|12(\.0)?)pt;/g,"font-size: ".concat((0,f.tq)()?"0.875rem":"1.125rem",";")).replace(/(line|font)-(height|weight):\s+normal;/g,"").replace(/width:\s*100%;/g,"").replace(/height:\s*\d+\.?\d+px;/g,"").replace(/margin-\w+:\s*0\.?\d*pt;/g,"").replace(/<br\s*\/>/g,"").replace(/&nbsp;/g,"")}):{content:"",title:"",time:""},[_]),y={className:(0,f.tq)()?"":"border-b border-black"};return(0,r.jsxs)(c.T,{hiddenHeader:(0,f.tq)(),headerProps:y,children:[(0,r.jsxs)("div",{className:"h-[4rem] justify-center items-center hidden md:flex",children:[(0,r.jsx)(h.u1R,{onClick:()=>i("/news?cateId=".concat(n)),className:"absolute left-2 text-xl text-green"}),(0,r.jsx)("h4",{className:"text-green text-center text-lg",children:"资讯动态"})]}),(0,r.jsxs)("div",{className:"w-container mx-auto md:w-full md:px-3 md:mt-2",children:[(0,r.jsxs)("header",{className:"pb-8 border-b border-gray-10 md:pb-5",children:[(0,r.jsx)(w,{className:"py-8 md:hidden",content:[{name:d,href:"/news?cateId=".concat(e.cateId)},{name:"详情"}]}),(0,r.jsx)("h1",{className:"text-4xl font-semibold md:text-lg",children:j.title}),(0,r.jsx)("time",{className:"inline-block text-gray-1 pt-2.5 md:text-sm",children:j.time})]}),v?(0,r.jsx)("div",{className:"mt-9 article-content",dangerouslySetInnerHTML:{__html:j.content}}):(0,r.jsx)(p.g,{className:"h-[40rem]"})]})]})}}},function(e){e.O(0,[455,222,492,725,439,431,676,919,774,888,179],function(){return e(e.s=4791)}),_N_E=e.O()}]);