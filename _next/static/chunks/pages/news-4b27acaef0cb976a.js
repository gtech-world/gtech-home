(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[134],{8729:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/news",function(){return t(9727)}])},7361:function(e,n,t){"use strict";t.d(n,{k:function(){return s}});var r=t(959),a=t(1351);function s(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=(0,r.useRef)(!0),s=(0,r.useRef)(0),[,c]=(0,r.useState)(1),i=(0,r.useCallback)(e=>{t.current=e,c(e=>1-e)},[]),[l,m]=(0,a.Z)(e,n),o=()=>{t.current||i(!0);let e=s.current+1>1e5?0:s.current+1;s.current=e,m().finally(()=>s.current==e&&i(!1))};return(0,r.useEffect)(()=>{o()},n),(0,r.useMemo)(()=>({...l,value:t.current||l.error?void 0:l.value,loading:t.current,req:o}),[l,t.current])}},7395:function(e,n,t){"use strict";t.d(n,{p6:function(){return d},uF:function(){return u},Ik:function(){return o},Pf:function(){return m}});var r=t(7306),a=t(5685);let s=a.env.NEXT_PUBLIC_API_BASE||"https://news.gtech.world";var c=t(8778);function i(e){return"".concat(s).concat(e)}function l(e){let n=e.data;if(n){if(n.code&&200!==n.code)throw n.msg;return e.data}}function m(e,n){return()=>n.some(e=>!e)?(0,c._v)():e()}async function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"数据技术",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=await r.Z.get(i("/wechat/news?newsType=".concat(e,"&pageNumber=").concat(n,"&pageSize=").concat(t)));return l(a)}async function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"数据技术",n=await r.Z.get(i("/wechat/news/count?newsType=".concat(e)));return l(n)}async function u(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=await r.Z.get(i("/wechat/news/detail/".concat(e)));return l(n)}},8778:function(e,n,t){"use strict";function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise(n=>{setTimeout(()=>n(void 0),e)})}function a(){return window.innerWidth<=900}t.d(n,{_v:function(){return r},tq:function(){return a}})},9727:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return k}});var r=t(1527),a=t(4919),s=t(959),c=t(3517),i=t.n(c),l=t(4875),m=t.n(l),o=t(8778),d=t(3190),u=t(7207),x=t.n(u);function f(e){let{total:n,pgSize:t,pgNum:a,onChange:c,className:i}=e,l=Math.ceil(n/t),o=(0,s.useMemo)(()=>l<=1?[]:l<=6?x().range(l).map(e=>({name:"".concat(e+1)})):a<=3?x().range(a+1).map(e=>({name:"".concat(e+1)})).concat([{name:"..."},{name:""+l}]):a>=l-2?[{name:"1"},{name:"..."}].concat(x().range(a-2,l).map(e=>({name:"".concat(e+1)}))):[{name:"1"},{name:"..."},{name:a-1+""},{name:a+""},{name:a+1+""},{name:"..."},{name:l+""}],[l,a]),d=()=>{c&&a<l&&c(x().toNumber(a+1))},u=()=>{c&&c(1)},f=()=>{c&&a>1&&c(x().toNumber(a-1))},g=()=>{c&&c(l)};return n<=t?null:(0,r.jsx)("div",{className:m()("flex justify-center text-[0.8125rem] text-center leading-8 font-semibold",i),children:(0,r.jsxs)("div",{className:"flex",children:[l>1&&(0,r.jsxs)("span",{onClick:u,className:"mx-[0.185rem] flex justify-center items-center cursor-pointer border min-w-[32px] h-[32px] rounded-lg",children:[(0,r.jsx)("img",{src:"/images/arrow_page.svg"}),(0,r.jsx)("img",{src:"/images/arrow_page.svg"})]}),l>1&&(0,r.jsx)("span",{onClick:f,className:"mx-[0.185rem] flex justify-center items-center cursor-pointer border min-w-[32px] h-[32px] rounded-lg",children:(0,r.jsx)("img",{src:"/images/arrow_page.svg"})}),o.map((e,n)=>(0,r.jsx)("div",{className:m()({"text-white bg-green-1":e.name===""+a,omit:"..."===e.name},"mx-[0.185rem] min-w-[32px] h-[32px] px-1.5 rounded-lg","..."!=e.name&&"border cursor-pointer"),onClick:()=>{c&&"..."!==e.name&&c(x().toNumber(e.name))},children:e.name},"key_page_".concat(n))),l>1&&(0,r.jsx)("span",{onClick:d,className:"mx-[0.185rem] rotate-180 flex justify-center items-center cursor-pointer border min-w-[32px] h-[32px] rounded-lg",children:(0,r.jsx)("img",{src:"/images/arrow_page.svg"})}),l>1&&(0,r.jsxs)("span",{onClick:g,className:" mx-[0.185rem] rotate-180 flex justify-center items-center cursor-pointer border min-w-[32px] h-[32px] rounded-lg",children:[(0,r.jsx)("img",{src:"/images/arrow_page.svg"}),(0,r.jsx)("img",{src:"/images/arrow_page.svg"})]})]})})}var g=t(7361),h=t(7395),p=t(5399),w=t.n(p),b=t(6349);function j(e){let{className:n,...t}=e;return(0,r.jsx)("div",{...t,className:m()("text-black w-full h-full flex items-center justify-center",n),children:(0,r.jsx)(b.uur,{className:"text-[3.125rem] animate-spin"})})}function v(){return(0,r.jsx)("div",{className:"h-[32.375rem] md:h-[24rem] w-full bg-[url(/images/news_banner.png)] bg-no-repeat bg-cover bg-left-bottom",children:(0,r.jsxs)("div",{className:"max-w-[61.75rem] mx-auto flex flex-col items-center text-center mt-24 md:mt-12",children:[(0,r.jsx)("h3",{className:"text-5xl text-green md:text-[1.75rem]",children:"资讯动态"}),(0,r.jsx)("p",{className:"text-[2rem] leading-[2.75rem] mt-8 md:text-lg md:px-8",children:"GTech是一家实时革新、日常精进的技术导向型公司。获取来自GTech以及我们所关注领域的最新资讯、业务进展以及技术信息分享。"})]})})}function N(e){let{cateId:n,data:t}=e;return(0,r.jsx)("div",{className:"w-container mt-16 md:w-full md:mt-8 md:px-3",children:!!t.length&&t.map((e,t)=>(console.log(e.thumbUrl),(0,r.jsxs)("div",{className:"flex md:items-center mb-12 md:mb-5",children:[(0,r.jsx)("div",{style:{backgroundImage:"url('".concat(e.thumbUrl,"')")},className:m()("w-[25rem] md:max-w-[7.375rem] h-[16.125rem] md:h-[4.875rem] rounded-lg overflow-hidden bg-cover bg-center bg-no-repeat")}),(0,r.jsxs)("div",{className:"flex flex-col justify-between ml-8 md:ml-2.5",children:[(0,r.jsxs)("div",{className:"",children:[(0,r.jsx)("h4",{className:"text-2xl font-semibold md:text-base",children:(0,r.jsx)(i(),{className:"ellipsis-2",target:(0,o.tq)()?"":"_blank",href:"/news/detail?cateId=".concat(n,"&id=").concat(e.id),children:e.title})}),(0,r.jsx)("time",{className:"inline-block py-2.5 md:py-0 md:pt-2 text-gray-2",children:w()(1e3*e.newsUpdateTime).format("YYYY-MM-DD HH:mm:ss")}),(0,r.jsx)("p",{className:"md:hidden",children:e.digest})]}),(0,r.jsx)("div",{className:"pb-1 md:hidden",children:(0,r.jsx)(i(),{className:"text-green",target:(0,o.tq)()?"":"_blank",href:"/news/detail?cateId=".concat(n,"&id=").concat(e.id),children:"详情 >>"})})]})]},"data".concat(t))))})}let _=[{name:"数据技术",id:1},{name:"行业动态",id:2},{name:"行业深度",id:3},{name:"GTech资讯",id:4}];function k(){let{query:e}=(0,d.useRouter)(),n=_[0].id,[t,c]=(0,s.useState)(n),[i,l]=(0,s.useState)(1),[u]=(0,s.useState)(2),{value:x,loading:p}=(0,g.k)((0,h.Pf)(async()=>Promise.all([(0,h.Ik)(_[t-1].name,1,u),(0,h.p6)(_[t-1].name)]),[i,t]),[i,t]),{total:w,data:b}=(0,s.useMemo)(()=>x&&2===x.length?{total:x[1]||0,data:x[0]}:{total:0,data:[]},[x]);(0,s.useEffect)(()=>{if(e.cateId){let t=_[+e.cateId-1];n=(null==t?void 0:t.id)||1}c(n)},[e]);let k={className:(0,o.tq)()?"":"border-b border-black"};return(0,r.jsxs)(a.T,{headerProps:k,children:[(0,r.jsx)(v,{}),(0,r.jsxs)("div",{className:"pt-10 pb-7 flex justify-center bg-bgc-1 flex-col items-center md:pt-6 md:px-3 md:pb-5",children:[(0,r.jsx)("div",{className:"bg-white shadow-[0_5px_20px_0_rgba(0,0,0,0.08)] rounded-2xl md:rounded-lg flex px-3 h-[5.5rem] md:h-[4.25rem] w-container text-2xl md:w-full md:text-base overflow-hidden",children:(0,r.jsx)("div",{className:"overflow-x-auto w-full h-full flex justify-between items-center px-24 md:px-2",children:_.map((e,n)=>(0,r.jsx)("div",{onClick:()=>c(n+1),className:m()("cursor-pointer whitespace-nowrap px-8 md:px-1 md:mx-4",n===t-1&&"news-active"),children:e.name},"tabs".concat(n)))})}),p?(0,r.jsx)(j,{className:"h-[22rem]"}):(0,r.jsx)(N,{cateId:t,data:b}),(0,r.jsx)(f,{className:"py-5",total:w,pgSize:u,pgNum:i,onChange:e=>{l(e)}})]})]})}}},function(e){e.O(0,[455,222,725,344,492,431,676,919,774,888,179],function(){return e(e.s=8729)}),_N_E=e.O()}]);